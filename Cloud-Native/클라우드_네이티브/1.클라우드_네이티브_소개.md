이번 챕터에서는 CAP 이론, 12요소 방법론, 분산 컴퓨팅에 대한 내용을 다루고 있다.

## 초기 분산 시스템의 오류

- 네트워크는 안정적이다
- 네트워크 지연이 없다
- 대역폭은 무한대다
- 네트워크는 안전하다
- 토폴로지는 변하지 않는다
- 관리자는 한 명이다
- 전송 비용이 없다
- 네트워크는 동등하다
  - 프로토콜이 서로 다르기에 동등하다고 할 수 없다.

## CAP 이론

일관성(C), 고가용성(A), 네트워크 파티션(P) 세 가지 중 두 가지만 만족할 수 있다는 내용

## 12요소 앱 방법론

1. 모든 배포는 하나의 코드베이스에서 나온다. 코드베이스는 버전 관리되고, 여러 배포환경에서 재사용된다.
2. 의존성을 명시적으로 관리한다. 예: pom.xml, requirements.txt 등을 사용하여 외부 라이브러리를 명시함.
3. 설정은 환경 변수로 분리한다. 코드와 설정을 분리하여 배포 환경마다 설정만 다르게 함.
4. 데이터베이스, 메시지 브로커 등은 연결 가능한 리소스로 간주한다. 내부/외부 서비스 구분 없이 URL 등으로 접근.
5. 빌드 → 릴리스 → 실행 단계를 명확히 구분한다. 아티팩트 생성과 실행 시점은 분리됨.
6. 상태 없는 프로세스로 실행
7. 자체적으로 포트를 바인딩한다. 앱이 웹 서버 내장 (예: Spring Boot 내장 Tomcat)
8. 프로세스를 복제하여 확장한다. 수평 확장이 가능하도록 설계 (ex. 여러 인스턴스)
9. 빠르게 시작하고, 정상적으로 종료되도록 한다. SIGTERM 등 종료 신호를 잘 처리하여 안정적인 배포/스케일링 보장
10. 개발, 스테이징, 운영 환경 간 차이를 최소화한다. 동일한 조건에서 개발 및 테스트 가능하도록 유지
11. 로그는 이벤트 스트림으로 다룬다. 애플리케이션은 로그를 stdout/stderr에 출력하고, 수집은 외부에서 처리 (ELK, Loki 등)
12. 관리 작업(예: DB 마이그레이션)은 일회성 프로세스로 실행한다. 앱 내부에 포함하되, 독립적으로 실행 가능하게 구성

## 후기

해당 내용들은 한 번씩 훑어가기 좋았다.

다만 약간 책을 잘못 골랐다고 느낀점이 있다.

12요소 방법론은 내가 따로 찾아봐서 정리하였는데, 책이 설명을 잘 못한다. 번역을 그대로 옮긴 느낌? 뒤에서도 그런지 확인해봐야겠다.



