3계층에서 동작하는 네트워크 경로를 지정해주는 장비. 현대에서는 L3 스위치와 라우터는 동일하다고 봐도 됨.

## 라우터 동작 방식과 역할

- **라우팅 테이블**개념이 존재함. 해당 테이블에 최적경로를 저장하여 패킷이 들어온 경우 해당 경로로 패킷을 보냄. 만약 라우팅 테이블에 목적지 주소가 없으면 패킷을 버림.
    - 관리자가 직접 경로를 입력하거나, 라우터끼리 정보를 교환하여 테이블을 업데이트하는 방법이 있음.
- 패킷 포워딩 과정에서 기존 2계층 헤더 정보를 제거하고, 새로운 2계층 헤더를 만듦. 
    - 과거에는 LAN용 헤더에서 WAN헤더로 바꾼다거나 하는 등.. 프로토콜 변환을 함

## 경로 지정 - 라우팅/스위칭

**홉**이란 라우터가 목적지에 도달할 때 목적지에 대한 경로가 아닌, 인접한 라우터까지만 경로를 저장하는데 이렇게 저장된 라우터로 넘어갈 때 네트워크를 넘는다는 의미로 **홉-바이-홉**라우팅이라고 한다. 논리적인 네트워크 단위라고 생각하면 된다.

이러한 이유로 라우터가 한 번에 목적지로 가는 전체 경로를 파악하는게 아닌, 최적의 넥스트 홉을 선택해 보내준다. 

- 보통 넥스트 홉을 지정할 때는 상대방 라우터의 인터페이스 IP 주소를 지정하는 방법을 사용
- 패킷에는 TTL(Time To Live) 값이 설정되어 있어서 유령 패킷이 생기지 않게 할 수 있다. 단위는 시간이 아닌 홉 단위다.

### 라우팅

라우터가 경로 정보를 얻는 방법

- 다이렉트 커넥티드: IP 주소를 입력할 때 IP주소와 서브넷 마스크로 네트워크 범위를 알 수 있는데 그 정보를 기준으로 라우팅 테이블을 만든 것.
- 스태틱 라우팅: 관리자가 목적지 네트워크와 넥스트 홉을 **직접**입력하는 것.
  - 돌아오는 패킷도 고려해야해서 맞은편에도 설정해줘야함.
  - 단점은 만약 경로에 단절이 생긴경우 유실이 생길 수 있고, 대규모 범위에서는 관리가 어렵다.
- 다이나믹 라우팅: 스태틱 라우팅 단점을 보완해 라우터끼리 정보를 교환해 네트워크 정보를 학습. **경로에 문제가 생겨도 이 상황을 인지해 대체 경로로 패킷을 포워딩함.** 때문에 대부분의 네트워크에서 다이나믹 라우팅이 사용됨.


라우터의 역할을 경로 정보를 얻는 것뿐만 아니라 경로 최적화도 진행하는데, 라우터가 수집한 원시 데이터, 정보 등은 **토폴로지 테이블**에 저장하고 최적의 경로를 저장하는 테이블을 **라우팅 테이블**이라고 한다.

### 스위칭

라우터가 경로를 지정하는 방법




