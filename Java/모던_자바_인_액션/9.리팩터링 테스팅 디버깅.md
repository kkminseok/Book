말그대로 리팩터링, 테스틷 디버깅에 대한 내용이다.

리팩터링은 기존 자바 코드에서 스트림으로 변환하는 과정을 나타낸다.

익명 클래스를 람다표현식으로, 람다표현식을 메서드 참조로, 기존 반복문을 스트림형으로 변경하는 리팩터링에 대해 다룬다.
사실 이런건 방법론보다는 점진적으로 변해과는 과정 자체를 이해하면 될 듯하다.

-----

또, 2장에서는 람다로 객체지향 디자인 패턴 리팩터링 하는 과정에 대해 설명한다.

strategy, template method, observer, chain of responsibility, factory

총 5가지에 대해 다룬다.

책을 그냥 읽고 넘어갔다. 예제를 구현해야할 부분도 많고, 상황의 특수성도 존재하기에 이 부분은 여기에 정리한다해서 효과적으로 기억하거나 하지는 않을 것 같다.

-----

그다음은 람다식 표현식을 테스트하는 방법을 알려준다.

-----

람다 표현식에서 문제가 생긴경우 일반적인 경우와 다르게 스택 트레이스가 찍힌다.
책이 쓰였을 당시에는 트레이스만으로는 문제를 확인하기 어려웠는데, 현대의 컴파일러는 디버깅에 대한 정보를 잘 제공하고 있어서 크게 문제 될 건 없어 보인다.

`peek`를 통해서 스트림의 각 요소를 소비한것처럼 동작하는데 실제로 요소를 소비하지는 않으므로 중간연산에 대한 로그를 찍어보거나 하는 등의 방법으로 추적할 수 있다.

## 총평

이 장은 어디서 뭘 배워야할까 고민하면서 봤는데 답을 못 내렸다. 실제 비즈니스 로직을 수정해가는 방법으로 공부를 할 수는 있을 것 같은데..