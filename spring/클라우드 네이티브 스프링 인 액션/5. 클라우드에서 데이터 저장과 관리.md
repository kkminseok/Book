애플리케이션 상태를 저장하는 방식에 대한 내용이다.

상태란 서비스를 종료하고 저장되야할 데이터, 보존되어야할 모든 것을 말한다.

데이터들을 저장할 서비스는 확장성, 복원력, 성능, 컴플라이언스 등의 조건을 갖추야한다.

클라우드 공급업체에서 가져다쓰고 개발자가 직접 구성할 수 있다. 책임을 누가 질 것인가에 따라 고려해야할 것이 다를 것 같다.

책에서는 비관계형, 관계형 데이터 지원, 신뢰성, 성능 등을 제공하고 있는 `PostgreSQL`를 사용해서 데이터를 저장한다.

- 데이터베이스 드라이버: 명령형/블로킹: JDBC / 반응형,넌블로킹 R2DBC드라이버

- 스프링데이터에서 제공하는 낙관적 잠금 사용(@Version)
- 스프링데이터에서 제공하는 스키마 자동 생성 기능(spring.sql.init.mode) 등을 사용
- @EnableJdbcAuditing을 이용한 데이터 감사기능
- `testcontainer`를 활용한 통합 테스트 진행
- `DataJdbcTest`를 활용한 슬라이스 테스트
- `flyway`를 활용한 데이터베이스 형상관리, 버전관리 진행

flyway는 실무에서 사용하기 어렵다고 판단 -> 이유는 이미 히스토리를 관리하는 로직이 있고 개발자가 많지 않아서 히스토리가 정리되지 않아서 문제가 된 적은 없음.
