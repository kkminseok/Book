중복되는 코드나 로직들을 공통화 시켜 처리하는 기법에 대해 설명하는 장 같다.

-----

### API Gateway

공통 관심사를 중앙 집중화하는 것이다. 비저장 서버여야하고, 다양한 카테고리로 그룹화할 수 있다.

- 보안
    - 인증, 인가, SSL 종료를 공통화할 수 있다.
    - 서버 사이드에서 데이터 암호화해야하는 경우도 마찬가지다.
- 오류 검사
    - 요청 유효성 검사
    - 요청 중복 제거: 요청에 대한 응답을 캐싱해서 부하를 줄인다.
- 성능과 가용성
    - 캐싱: 가장 많이 사용되는 엔티티 정보 등을 캐싱해서 줄 수 있다.
    - 속도 제한: 요청으로 인해 서비스가 과부하되는 것을 방지 한다.
    - 요청 디스패칭: 게이트웨이가 다른 서비스를 적절하게 호출하도록 관리할 수 있다. 서킷브레이커 패턴을 추가하여 가용성을 높일 수도 있다.
- 로깅과 분석

-----

### 서비스 메시/사이드카 패턴

API 게이트웨이의 단점을 해결하기 위해 나온 패턴이다. 게이트웨이의 단점은 요청에 추가 지연이 발생한다는 것과 확장의 어려움이 있을 수는 있다.

- 서비스 메시는 컨트롤 플레인과 데이터 플레인으로 구성되며, 관찰 가능성 플레인도 추가될 수 있다고 한다.


-----

### 메타 데이터 서비스

시스템 내의 여러 구성 요소가 사용하는 정보를 저장한다.

만약 이메일을 보낼 때의 HTML의 코드를 보내줘야한다면, 이를 서버에서 들고 있는게 아니고 S3같은 곳에 저장해놓고 DB에서는 이를 식별할 수 있는 Id만 조회해서
S3에 저장된 데이터 자체를 불러와 사용한다. 만약 이벤트 큐를 사용했으면 이벤트 큐에 방대한 데이터 크기를 지니지 않아도 되므로 장점이 있다고 할 수 있다.

-----

### API 패러다임

REST, RPC, GraphQL, 웹 소켓 등 다양한 통신 패러다임이 있는데 비교하여 설명한다.

- OSI7계층 기준으로 GraphQL, REST, 웹 소켓은 HTTP위에 구현된다. RPC는 세션 계층에서 처리 된다.
- REST
    - 배우기 쉬우며, 설정, 디버깅, 테스트가 쉽다. 
    - 캐싱을 통해 가용성을 높일 수 있다. 
    - 문서화 메커니즘이 많이 빈약하다. 
- RPC
    - CSV, XML, JSON, 쓰리프트, 프로토콜 버퍼, Avro와 같은 인코딩 및 디코딩형식에 친숙해야한다.
    - 대규모 웹 서비스에서는 리소스 최적화에 도움을 준다.
    - 포로토콜 버퍼는 효율적인 인코딩 방식이다. JSON보다 네트워크 트래픽 감소에 도움을 준다.
    - 단점으로는 바이너리 프로토콜이라는 특성에서 비롯된다. 스키마 파일로 업데이트 해야하는 것. 모니터링이 쉽지 않은 것.
- GraphQL
    - 선언전 쿼리 언어. 
    - 클라이언트가 요청한 것을 정확히 제공한다는 이점이 있다.
    - 트레이드 오프에는 간단한 API에는 복잡할 수있고, 학습 곡선, 보안 메커니즘, 사용자 커뮤니티 규모, JSON으로만 인코딩, 등이 있다.
- 웹소켓
    - 지속적인 TCP연결을 통해 전이중 통신을 가능하게 하는 통신 프로토콜
    - 모든 참여자의 오버헤드를 증가시킴. 연결이 된 상태여야만 요청 처리가 가능하다. 
    - 확장성을 낮은 지연시간과 높은 성능과 교환한다.

-----

## 총평

내용이 크게 어렵지는 않았다. 사실 회사에서 내가 추구하는 방향과 동일하다 (Grpc 갈 수 있으면 가자, API Gateway로 공통화 할 수 있는건 해보자,..)  
서비스 메시 개념은 좀 더 알아보면 좋을 것 같다.

